		.ORIG x1000


		LEA R0, JUMPTO
		JMP R0


TEST1		ADD R0, R0, x9
		AND R0, R0, x1
		ADD R0, R0, #-1
		XOR R0, R0, #1
		NOT R0, R0
		NOT R0, R0
		XOR, R0, R0, R0
		RET


JUMPTO		JSR TEST1
		LEA R6, TEST2
		JSRR R6
		AND R6, R6, #0
		JSR TESTBR
		JSR TESTSHF
		BRnzp GOTOHALT	


TEST2		ADD R1, R1, #-1
		LSHF R1, R1, #3
		AND R2, R1, x7
		BRnp GOTOHALT
		RSHFL R1, R1, #5
		BRn GOTOHALT
		AND R1, R1, #0
		ADD R1, R1, #-1
		RSHFA R1, R1, #8
		BRzp GOTOHALT
		AND R1, R1, #0
		RET


GOTOHALT	TRAP x25	


TESTBR		ADD R3, R3, #1
		BRnz GOTOHALT
		NOT R3, R3
		BRzp GOTOHALT
		AND R3, R3, #0
		BRnp GOTOHALT
		ADD R3, R3, #4
		BR BRTEST1
		BRnzp GOTOHALT
BRTEST1		BRp BRTEST2
		BRnzp GOTOHALT
BRTEST2		XOR R3, R3, #-1
		BRn BRTEST3
		BRnzp GOTOHALT
BRTEST3		ADD R5, R5, #1
		AND R3, R3, x0
		BRz BRTEST4
		BRnzp GOTOHALT
BRTEST4		AND R5, R5, #0
		RET


TESTSHF		ADD R4, R4, #8
		RSHFL R4, R4, #2
		AND R5, R4, #-3
		BRnp GOTOHALT
		RSHFA R4, R4, #1
		AND R5, R4, #-2
		BRnp GOTOHALT
		LSHF R4, R4, #15
		BRzp GOTOHALT
		AND R4, R4, #0
		RET


		.END
